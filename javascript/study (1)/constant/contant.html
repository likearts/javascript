<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title></title>
	<script src="../angular.min.js"></script>
</head>
<body ng-app='likearts'>

		<div file-uploader>
			<input type='file' onchange='angular.element(this).scope().change(this)'/>
		</div>
		
		<script>

			location.domain = "m.ellotte.com";

			angular.module('config',[])
			
			.constant('path',{
				root: '/',
				image : 'image.lotte.com/',
				upload : 'upload.lotte.com',
				stage : 'mo.lotte.com',
				stage2 : 'mo2.lotte.com',
				lotte : 'm.lotte.com',
				ellotte : 'm.ellotte.com',
				extendsions : ['jpg','png','gig'],
				transitionMode : 'normal',
				footer : true,
				header : true,
				sidestg : false
			})

			
			
			angular.module('likearts',['config'])
			
			.directive('fileUploader', function(path){
					return {
						restrict:'A',
						scope:true,
						link : function(scope){
							scope.change = function(input){
									var file = input.files[0],
											lastDot = file.name.lastIndexOf('.'),
											extension = file.name.substr(lastDot);
												
									if( location.domain == path.llotte ){
										event.preventDefault();
										alert('해당 사이트는 업로드가 지원되지 않습니다.')
										setTimeout(function(){
											input.value='';
										},500);
										return;
									}
							}
						}
					}
			})
			
			
			/**
				constant는 환경설정 중 고정값들이 필요할때 주소 사용한다.
			**/
			
		</script>

</body>
</html>